"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.Decoder = exports.Encoder = void 0;
const damaku_1 = __importDefault(require("./decoder/damaku"));
const JoinRoom_1 = __importDefault(require("./decoder/JoinRoom"));
const LeaveRoom_1 = __importDefault(require("./decoder/LeaveRoom"));
const SwitchRoom_1 = __importDefault(require("./decoder/SwitchRoom"));
const Music_1 = __importDefault(require("./decoder/Music"));
const paymentCallback_1 = __importDefault(require("./decoder/paymentCallback"));
const PrivateMessage_1 = __importDefault(require("./decoder/PrivateMessage"));
const PublicMessage_1 = __importDefault(require("./decoder/PublicMessage"));
const userlist_1 = __importDefault(require("./decoder/userlist"));
const GetUserListCallback_1 = __importDefault(require("./decoder/GetUserListCallback"));
const UserProfileCallback_1 = __importDefault(require("./decoder/UserProfileCallback"));
const BankCallback_1 = __importDefault(require("./decoder/BankCallback"));
const MediaListCallback_1 = __importDefault(require("./decoder/MediaListCallback"));
const SelfMove_1 = __importDefault(require("./decoder/SelfMove"));
const MailboxMessage_1 = __importDefault(require("./decoder/MailboxMessage"));
// 媒体API
const clear_1 = __importDefault(require("./encoder/admin/media/clear"));
const cut_1 = __importDefault(require("./encoder/admin/media/cut"));
const exchange_1 = __importDefault(require("./encoder/admin/media/exchange"));
const goto_1 = __importDefault(require("./encoder/admin/media/goto"));
const operation_1 = __importDefault(require("./encoder/admin/media/operation"));
// 管理员API
const blacklist_1 = __importDefault(require("./encoder/admin/blacklist"));
const kick_1 = __importDefault(require("./encoder/admin/kick"));
const mute_1 = __importDefault(require("./encoder/admin/mute"));
const notice_1 = __importDefault(require("./encoder/admin/notice"));
const setMaxUser_1 = __importDefault(require("./encoder/admin/setMaxUser"));
const whitelist_1 = __importDefault(require("./encoder/admin/whitelist"));
// 消息API
const damaku_2 = __importDefault(require("./encoder/messages/damaku"));
const MediaCard_1 = __importDefault(require("./encoder/messages/MediaCard"));
const MediaData_1 = __importDefault(require("./encoder/messages/MediaData"));
const PrivateMessage_2 = __importDefault(require("./encoder/messages/PrivateMessage"));
const PublicMessage_2 = __importDefault(require("./encoder/messages/PublicMessage"));
// 系统API
const bank_1 = __importDefault(require("./encoder/system/bank"));
const GetUserList_1 = __importDefault(require("./encoder/system/GetUserList"));
const like_1 = __importDefault(require("./encoder/system/like"));
const login_1 = __importDefault(require("./encoder/system/login"));
const MediaList_1 = __importDefault(require("./encoder/system/MediaList"));
const payment_1 = __importDefault(require("./encoder/system/payment"));
// 用户API
const UserProfile_1 = __importDefault(require("./encoder/user/UserProfile"));
class Encoder {
    constructor() {
        this.admin = {
            media: {
                clear: clear_1.default,
                cut: cut_1.default,
                exchange: exchange_1.default,
                goto: goto_1.default,
                operation: operation_1.default
            },
            blacklist: blacklist_1.default,
            kick: kick_1.default,
            mute: mute_1.default,
            notice: notice_1.default,
            setMaxUser: setMaxUser_1.default,
            whitelist: whitelist_1.default
        };
        this.messages = {
            damaku: damaku_2.default,
            mediaCard: MediaCard_1.default,
            mediaData: MediaData_1.default,
            privateMessage: PrivateMessage_2.default,
            publicMessage: PublicMessage_2.default
        };
        this.system = {
            bank: bank_1.default,
            getUserList: GetUserList_1.default,
            like: like_1.default,
            login: login_1.default,
            mediaList: MediaList_1.default,
            payment: payment_1.default
        };
        this.user = {
            userProfile: UserProfile_1.default
        };
    }
}
exports.Encoder = Encoder;
class Decoder {
    constructor() {
        this.decoder = [
            damaku_1.default,
            JoinRoom_1.default,
            LeaveRoom_1.default,
            SwitchRoom_1.default,
            Music_1.default,
            paymentCallback_1.default,
            PrivateMessage_1.default,
            PublicMessage_1.default,
            userlist_1.default,
            GetUserListCallback_1.default,
            UserProfileCallback_1.default,
            BankCallback_1.default,
            MediaListCallback_1.default,
            SelfMove_1.default,
            MailboxMessage_1.default
        ];
    }
    autoDecoder(packet) {
        for (const decoder of this.decoder) {
            const result = decoder(packet);
            if (result instanceof Array && result.length > 0) {
                return result;
            }
        }
        return false;
    }
}
exports.Decoder = Decoder;
//# sourceMappingURL=index.js.map